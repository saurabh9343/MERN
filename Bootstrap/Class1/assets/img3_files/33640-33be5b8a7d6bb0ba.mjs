"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[33640],{17314:(e,t,n)=>{n.d(t,{Z:()=>d});var r,a,i=n(813653),o=n(861470),s=0,l=0;let d=function(e,t,n){var d=t&&n||0,c=t||Array(16),u=(e=e||{}).node||r,p=void 0!==e.clockseq?e.clockseq:a;if(null==u||null==p){var m=e.random||(e.rng||i.Z)();null==u&&(u=r=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==p&&(p=a=(m[6]<<8|m[7])&16383)}var _=void 0!==e.msecs?e.msecs:Date.now(),h=void 0!==e.nsecs?e.nsecs:l+1,f=_-s+(h-l)/1e4;if(f<0&&void 0===e.clockseq&&(p=p+1&16383),(f<0||_>s)&&void 0===e.nsecs&&(h=0),h>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");s=_,l=h,a=p;var g=((268435455&(_+=122192928e5))*1e4+h)%4294967296;c[d++]=g>>>24&255,c[d++]=g>>>16&255,c[d++]=g>>>8&255,c[d++]=255&g;var y=_/4294967296*1e4&268435455;c[d++]=y>>>8&255,c[d++]=255&y,c[d++]=y>>>24&15|16,c[d++]=y>>>16&255,c[d++]=p>>>8|128,c[d++]=255&p;for(var b=0;b<6;++b)c[d+b]=u[b];return t||(0,o.Z)(c)}},845614:(e,t,n)=>{n.d(t,{H:()=>s});var r=n(978993);let a="business.referral.referral_code",i="business.referral.offer_status",o="claimed",s={setData:({referralCode:e})=>{(0,r.Nh)(a,e)},getData:()=>(0,r.qn)(a),setSenderOfferClaimed:()=>{(0,r.Nh)(i,o)},resetStatus:()=>{(0,r.L_)(a)},shouldClaimReferral:()=>null!==(0,r.qn)(a)&&(0,r.qn)(i)!==o}},333733:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(667294),a=n(883119),i=n(876594),o=n(793874),s=n(635284),l=n(556712),d=n(785893);function c({children:e,footerConfig:t,headerConfig:n,height:c,hideOnScroll:u,hideOnScrollState:{isHidden:p,updateHiddenState:m},noPadding:_,paddingY:h=l.og,type:f,zIndex:g}){let y,b;let{headerLimitedOverflow:w,ignoreObstructions:v,zIndexForGestaltBug:x}=n||{},{appUpsellFooterConfig:S,footerInLego:I,navFooterConfig:T}=t||{},A=!!S,E="header"===f?"top":"bottom",P=(0,o.vs)(),j=(0,r.useRef)(null),Z=(0,r.useRef)(null);(0,r.useEffect)(()=>{try{if(!v){let e=j.current;Z.current=w&&e&&Array.isArray(e.children)?e.children[0]:e,Z.current instanceof HTMLElement&&s.Z.addObstruction(E,Z.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{!v&&Z.current instanceof HTMLElement&&s.Z.removeObstruction(E,Z.current)}},[v,w,E,P]);let O="top"===E?"relative":"fixed",C=(c??l.R$)+(n?.overrideTop||0),N=u||T?{transition:I?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...p?{transform:`translateY(${"top"===E?-C:C}px)`,opacity:I?0:1}:Object.freeze({})}:{},R="relative"!==O||n?.noGutter?0:2,M=R?-R:0;P&&("header"===f?y=-1:b=-1);let H=n?.isTransparentBackground&&i.o7L||n?.isTranslucent&&(P?"rgba(0,0,0,.95)":"rgba(255,255,255,.95)")||i.k95;return(0,d.jsx)(a.xu,{ref:j,bottom:"footer"===f,dangerouslySetInlineStyle:{__style:{top:y,bottomStyle:b,...!g||x?{zIndex:x||1}:Object.freeze({}),...w?{background:"transparent",overflow:"hidden",paddingBottom:l.UB,marginBottom:-l.UB,pointerEvents:"none"}:Object.freeze({}),...n?.hasBorder?{borderBottom:l.dS}:Object.freeze({}),...t?.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...N}},"data-test-id":f,display:A?"flex":void 0,height:c&&!I?c:void 0,left:!0,marginEnd:I?"auto":M,marginStart:I?"auto":M,onTransitionEnd:()=>{(u||T)&&Z.current&&(p?s.Z.removeObstruction(E,Z.current):s.Z.addObstruction(E,Z.current))},position:O,right:!0,top:"header"===f,width:I||"fixed"!==O?void 0:"100%",zIndex:x?void 0:g,children:(0,d.jsx)(a.xu,{alignItems:t?.alignCenter?"center":void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:H,height:I?A?void 0:c??l.R$:"100%",boxShadow:I?l.KJ:void 0,marginBottom:I&&!T?.docked?16:void 0,...w?{pointerEvents:"auto"}:Object.freeze({}),...n?.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},display:I||t?.alignCenter?"flex":void 0,marginEnd:I?"auto":void 0,marginStart:I?"auto":void 0,paddingX:("footer"!==f||_?0:4)+R,paddingY:_?0:h,position:"relative",rounding:I&&!T?.docked?"pill":void 0,width:T?T.footerWidth:A?void 0:"100%",children:"function"==typeof e?e({updateHiddenState:m}):e})})}},94757:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var r=n(883119),a=n(556712),i=n(333733),o=n(727976),s=n(785893);function l({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:n,isTranslucent:l,isTransparentBackground:d,noGutter:c,overrideTop:u,useRoundedCorners:p,zIndexForGestaltBug:m,..._}){let{noPadding:h,paddingY:f=a.og,zIndex:g}=_;return(0,s.jsx)(r.Le,{height:t?a.LV+8*(h?0:f):void 0,top:u||0,zIndex:g||void 0,children:(0,s.jsx)(o.Z,{hideOnScroll:_.hideOnScroll,children:r=>(0,s.jsx)(i.Z,{..._,headerConfig:{isTranslucent:l,isTransparentBackground:d,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:n,noGutter:c,overrideTop:u,zIndexForGestaltBug:m,useRoundedCorners:p},hideOnScrollState:r,type:"header"})})})}},727976:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(667294),a=n(235838);function i(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o extends r.Component{constructor(...e){super(...e),i(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!!this.props.navFooterConfig?.isDockedNavOnPlp}),i(this,"lastScrollPos",0),i(this,"updateHiddenState",e=>{this.reqAnimationId=window.requestAnimationFrame(()=>{this.setState({isHidden:e})})}),i(this,"handleScroll",(0,a.Z)(()=>{let{appUpsellFooterConfig:e,navFooterConfig:t}=this.props,{isHidden:n}=this.state,r=window.scrollY,a=r-this.lastScrollPos,i="none",{scrollHeight:o,clientHeight:s}=document.documentElement||{};Number.isNaN(o)||Number.isNaN(s)||(i=a<0?r<=Math.abs((window.scrollMinY||0)+Math.max(a,20))?"start":"none":r>=(window.scrollMaxY||o-s)-Math.max(a,20)?"end":"none");let l=t?.isModal?0:55;e?a>20&&n&&r>=500?e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),t?.onScroll(!1)):(a<-20&&!n||r<=l)&&(this.updateHiddenState(!0),t?.onScroll(!0)):this.props.navFooterConfig?.isDockedNavOnPlp?"start"===i&&!n||r<=l?(this.updateHiddenState(!0),t?.onScroll(!0)):(r>l||"end"===i)&&n&&(this.updateHiddenState(!1),t?.onScroll(!1)):(a<-20||"start"===i)&&n||r<=l?(this.updateHiddenState(!1),t?.onScroll(!1)):(a>20||"end"===i)&&!n&&(this.updateHiddenState(!0),t?.onScroll(!0)),this.lastScrollPos=r},30))}componentDidMount(){try{(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll||!e.navFooterConfig?.isDockedNavOnPlp&&this.props.navFooterConfig?.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||e.navFooterConfig?.isDockedNavOnPlp&&!this.props.navFooterConfig?.isDockedNavOnPlp)&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){let{children:e,navFooterConfig:t}=this.props,{isHidden:n}=this.state;return e({isHidden:!t?.forceShow&&n,updateHiddenState:this.updateHiddenState})}}},556712:(e,t,n)=>{n.d(t,{KJ:()=>s,LV:()=>o,R$:()=>r,UB:()=>i,dS:()=>l,og:()=>a});let r=64,a=3,i=100,o=44,s="0px 0px 8px rgba(0, 0, 0, 0.1)",l="1px solid #efefef"},982553:(e,t,n)=>{n.d(t,{JZ:()=>m,Qs:()=>p,jr:()=>_,z:()=>h});var r=n(609326),a=n(118755),i=n(297728),o=n(730212),s=n(864723),l=n(1006),d=n(410150);let c={auth_dweb_google_fedcm_onetap_modal:122,auth_mweb_google_fedcm_onetap_modal:122,dweb_unauth_google_fedcm_button_flow_eap:130,mweb_unauth_google_fedcm_button_flow_eap:131},u=(e,t,n,r)=>e?n>=(r?c.auth_dweb_google_fedcm_onetap_modal:c.dweb_unauth_google_fedcm_button_flow_eap)&&(r?t("auth_dweb_google_fedcm_onetap_modal").anyEnabled:t("dweb_unauth_google_fedcm_button_flow_eap").anyEnabled):n>=(r?c.auth_mweb_google_fedcm_onetap_modal:c.mweb_unauth_google_fedcm_button_flow_eap)&&(r?t("auth_mweb_google_fedcm_onetap_modal").anyEnabled:t("mweb_unauth_google_fedcm_button_flow_eap").anyEnabled),p=e=>e.isAuth&&e.socialNetwork&&e.socialNetwork.gplus&&e.socialNetwork.gplus.connected&&!s.ZP.getItem(r.tr),m=(e,t,n,r)=>{let i=n.browserVersion?parseInt(n.browserVersion.split(".")[0],10):0;return(0,a.i7)(n.browserName??"")&&(e&&u(e,t,i,r)||!e&&"android"===n.platform&&u(e,t,i,r))},_=e=>{let t=(0,d.HG)(),{checkExperiment:n}=(0,i.F)(),{userAgent:r}=(0,o.B)();return p(e)&&m(t,n,r,e.isAuth)},h=(e,t)=>{let n="desktop"===t?"dweb":"mweb",r=e.getMomentType();if("dismissed"===r){let t=e.getDismissedReason();(0,l.My)(`${n}.onetap_modal.dismissed.${t}`)}else(0,l.My)(`${n}.onetap_modal.${r}`)}},791773:(e,t,n)=>{n.d(t,{Z:()=>r});let r=(0,n(667294).createContext)(null)},288544:(e,t,n)=>{n.d(t,{Z:()=>L});var r=n(667294),a=n(983272),i=n(630118),o=n(845729),s=n(248750),l=n(353168),d=n(770975),c=n(2171),u=n(201930),p=n(920301),m=n(431771),_=n(142921),h=n(301567);let f=e=>{let t=performance.getEntriesByType("resource").filter(e=>e.name.includes("i.pinimg")).reduce((e,t)=>{let n=t.name.replace(".jpg","").split("/");return{[n[n.length-1]]:{downloadSize:t.name.split("/")[3].split("x")[0]},...e}},{});[...Array.from(document.getElementsByTagName("img")).map(e=>{let n=e.src.replace(".jpg","").split("/"),r=n[n.length-1];if(t[r]){let n=h.rZ(e)?.width||1,a=t[r].downloadSize;return{fileName:r,renderedSize:n,downloadedSize:a,ratio:a/n}}return{fileName:r,renderedSize:1,downloadedSize:1,ratio:1}}),...Array.from(document.querySelectorAll('div[role="img"]')).map(e=>{let n=e.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),r=n[n.length-1];if(t[r]&&e instanceof HTMLDivElement){let n=h.rZ(e)?.width||1,a=t[r].downloadSize;return{fileName:r,renderedSize:n,downloadedSize:a,ratio:a/n}}return{fileName:r,renderedSize:1,downloadedSize:1,ratio:1}})].forEach(t=>{let{ratio:n,fileName:r,downloadedSize:a}=t;t.ratio>1.05&&(0,s.A9)(`checkImageRatio.${e}`,{count:Math.round(10*n)/10,tags:{fileName:`${a}_${r}`}})})};var g=n(147921),y=n(671481),b=n(730212);let w=(e,t)=>{let n=(0,r.useRef)(t);return{getState:()=>n.current,dispatch:t=>{n.current=e(n.current,t)}}};var v=n(493651),x=n(415787),S=n(785893);let I=["initial_app_load","client_route_push"],T=(0,o.XV)("PwtSurface"),A="NavigationComplete",E="VisuallyComplete",P=(e,t,n,r)=>{let{metricConfig:{metricId:a,pwtStaticContext:i,annotateExperiments:o},annotations:s,binaryAnnotations:l,constraintMap:d,startTime:m,imageTimings:_,isSampled:h,spans:f,traceId:g}=e,y=(0,c.N)({reason:t,annotateExperiments:o,annotations:s,binaryAnnotations:l,constraintMap:d,endTime:n,imageTimings:_,metricId:a,pwtStaticContext:i,startTime:m,traceId:g,spans:f});h&&!r&&(0,p.Z)({metricId:a,pwtStaticContext:i,result:y}),(0,u.D9)()},j=(e,t,n)=>{let{metricConfig:{metricId:r,pwtStaticContext:a,annotateExperiments:o},annotations:d,binaryAnnotations:m,constraintMap:_,startTime:h,imageTimings:g,isSampled:y,spans:b,traceId:w}=e;(0,l.L8)(`PWT_Complete_${(0,i.KJ)(r)}`);let v=(0,c.W)({annotateExperiments:o,annotations:d,binaryAnnotations:m,constraintMap:_,endTime:t,imageTimings:g,metricId:r,pwtStaticContext:a,startTime:h,traceId:w,spans:b});y&&!n&&(0,p.Z)({metricId:r,pwtStaticContext:a,result:v});try{f(String(v.binaryAnnotationMap["metricId.surface"].value))}catch(e){(0,s.H)("image_ratio_check_error",{error:e})}return(0,u.D9)(),{...e,result:v,status:"DONE"}},Z=(e,t)=>{if(e.metricConfig.constraints.every(t=>e.constraintMap[t])){let n=Math.max(...e.metricConfig.constraints.map(t=>e.constraintMap[t]));return j(e,n,t)}return T(`Remaining constraints: ${e.metricConfig.constraints.filter(t=>!e.constraintMap[t]).join(", ")}`),e},O=(e,t)=>{let{constraint:n,time:r,disablePWTLogging:a}=t,o=(0,i.KJ)(e.metricConfig.metricId);return y.Z?e.metricConfig.constraints.find(e=>e===n)?e.constraintMap[n]?(T(`constraint "${n}" is already complete.`),(0,s.H)("duplicated_constraint_complete",{constraint:n,action:o}),e):(T(`marking constraint "${n}" as complete ${r||performance.now()}`),r?(0,l.ZP)(`constraint_${n}_is_complete`,r):(0,l.ZP)(`constraint_${n}_is_complete`),Z({...e,constraintMap:{...e.constraintMap,[n]:r||y.Z.now()}},a)):(T(`marked constraint "${n}" is not a required constraint.`),e):((0,s.H)("missing_window_performance",{action:o}),e)},C=(e,t)=>{if(!y.Z){let t=(0,i.KJ)(e.metricConfig.metricId);(0,s.H)("missing_window_performance",{action:t})}T(`removing constraint "${t}"`);let n=e.metricConfig.constraints.filter(e=>e!==t),{[t]:r,...a}=e.constraintMap;return Z({...e,constraintMap:a,metricConfig:{...e.metricConfig,constraints:n}})},N=(e,t)=>{if(!y.Z){let t=(0,i.KJ)(e.metricConfig.metricId);(0,s.H)("missing_window_performance",{action:t})}T(`updating pwt segment to "${t}"`);let n={...e.metricConfig.metricId,segment:t};return{...e,metricConfig:{...e.metricConfig,metricId:n}}},R=(e,t)=>{let{metricConfig:n,startTime:r,isSampled:a,disablePWTLogging:o}=t;if(o||"TIMING"!==e.status||r===e.startTime||P(e,"routeUpdatedOnSameSurface",y.Z?.now()||0,o),!n)return{status:"DISABLED",metricConfig:null};let l=(0,i.KJ)(n.metricId);return"TIMING"===e.status&&e.startTime===r&&e.constraintMap[A]?((0,s.H)("duplicated_init_route_action",{action:l}),e):(o||("Other"===n.pwtStaticContext.browserName&&!1===n.metricId.isAuthenticated&&"initial_app_load"===n.metricId.navigationType?((0,s.A9)(`TIMING.${l}`,{tags:{userAgent:window?.navigator?.userAgent}}),(0,s.A9)(`TIMING.sampled.${l}`,{tags:{userAgent:window?.navigator?.userAgent},sampleRate:.03})):((0,s.A9)(`TIMING.${l}`),(0,s.A9)(`TIMING.sampled.${l}`,{sampleRate:.03}))),O({traceId:(0,u.Vd)()||(0,u.ZP)("initial_app_load"===n.metricId.navigationType,n.pwtStaticContext.serverData?.trace_id),status:"TIMING",metricConfig:n,startTime:r,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:a,spans:[]},{constraint:A,disablePWTLogging:o}))},M=(e,t)=>{if(T("dispatch action",t),"INIT_ROUTE"===t.type)return R(e,t.payload);if("TIMING"!==e.status)return T(`ignoring action due to invalid state ${e.status}`,t),e;switch(t.type){case"ABORT":P(e,t.reason,y.Z?.now()||0);let n={type:"ABORT",reason:t.reason};return{...e,status:"DONE",result:n};case"ANNOTATE":let{name:r}=t.payload;if(!y.Z)return e;let a=y.Z.now();return T(`adding annotation {${r}: ${a}}`),{...e,annotations:{...e.annotations,[r]:a}};case"BINARY_ANNOTATE":let{name:o,value:l,annotationType:d}=t.payload;return T(`adding binary annotation {${o}: ${l}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[o]:{value:l,type:d}}};case"MARK_CONSTRAINT_COMPLETE":return O(e,t.payload);case"REMOVE_CONSTRAINT":return C(e,t.payload);case"SET_SEGMENT":return N(e,t.payload);case"SET_VISUALLY_COMPLETE_RESULT":{let{payload:{imageTimings:n}}=t;if(0===n.length)return P(e,"visuallyComplete_noImages",y.Z?.now()||0),{...e,status:"DONE",result:{type:"ABORT",reason:"visuallyComplete_noImages"}};let r=Math.max(...n.map(e=>e.responseEnd||0));return O({...e,imageTimings:n},{constraint:E,time:r})}case"ADD_SUBSPAN":let{startTime:c}=e,{payload:{name:u,startTime:p,endTime:m,annotations:_,binaryAnnotations:h,parentId:f}}=t;return{...e,spans:[...e.spans,{name:u,id:(0,g.Z)(),startTime:p||c,endTime:m,annotationMap:{..._},binaryAnnotationMap:{...h},parentId:f}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:t.payload.name,id:(0,g.Z)(),startTime:y.Z?y.Z.now():0,endTime:1/0,annotationMap:{...t.payload.annotations},binaryAnnotationMap:{...t.payload.binaryAnnotations},parentId:t.payload.parentId}]};case"STOP_SUBSPAN":let b=e.spans.findIndex(e=>e.name===t.payload.name);return b>-1?(e.spans[b].endTime=y.Z?y.Z.now():0,t.payload.annotations&&(e.spans[b].annotationMap={...e.spans[b].annotationMap,...t.payload.annotations}),t.payload.binaryAnnotations&&(e.spans[b].binaryAnnotationMap={...e.spans[b].binaryAnnotationMap,...t.payload.binaryAnnotations})):(0,s.H)("invalid_subspan_stop_name",{name:t.payload.name}),e;default:let w=(0,i.KJ)(e.metricConfig.metricId);return(0,s.H)("invalid_pwt_surface_action",{action:w}),e}},H=e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}},D=new Set,k=({surface:e,constraints:t,segment:n,measureGridVisuallyComplete:i,annotateExperiments:o,customEnabledNavigationTypes:s,navigationInfo:{clientNavigation:l,navigationType:d},sampleRate:c})=>{let u=(0,r.useRef)("NOT_SET"),p=(0,_.Z)(),{getState:m,dispatch:h}=w(M,{status:"DISABLED",metricConfig:null}),f=(0,b.B)();if(u.current!==l&&(u.current=l,p)){let{isAuthenticated:r}=p,a=e&&d&&(s||I).includes(d)?{metricId:{type:"surface",surface:e,navigationType:d,isAuthenticated:r,segment:n},annotateExperiments:o,constraints:[A,...t||[],...i?[E]:[]],pwtStaticContext:p}:null;(0,x.nP)("webapp.pwt_surface.init_route",{tags:{surface:e,navigationType:d,isAuthenticated:r}});let u=!D.has(l);h({type:"INIT_ROUTE",payload:{metricConfig:a,startTime:l?l.time:0,isSampled:!c||Math.random()<c,disablePWTLogging:!u}}),u&&D.add(l)}let g=m();if((0,r.useEffect)(()=>()=>{D.delete(l)},[l]),(0,r.useEffect)(()=>{let e=e=>{h({type:"ABORT",reason:e})};a.Z.onSessionPause(e);let t=window.innerHeight,n=window.innerWidth,r=()=>{let e=Math.abs(window.innerHeight-t),a=Math.abs(window.innerWidth-n),i=window.innerHeight!==t,o=window.innerWidth!==n,s={handler:(0,v.H)(),deviceType:p?.deviceType??"unknown",isAuthenticated:p?.isAuthenticated??"unknown",platform:f.userAgent.platform??"unknown"};if((0,x.nP)("webapp.PwtLogger.handleResize",{sampleRate:1,tags:{...s,heightChanged:i,widthChanged:o}}),i&&(0,x.S0)("webapp.PwtLogger.resizeHeightDelta",e,{sampleRate:1,tags:s}),o&&(0,x.S0)("webapp.PwtLogger.resizeWidthDelta",a,{sampleRate:1,tags:s}),window.removeEventListener("resize",r),p?.deviceType==="phone"&&(!o&&i&&e<=150||!i&&!o)||p?.deviceType==="desktop"&&!i&&!o){(0,x.nP)("webapp.PwtLogger.skipResizeAbort",{sampleRate:1,tags:{...s,heightChanged:i,widthChanged:o}});return}h({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",r),()=>{let t=m();T("handling unmount",t),"TIMING"===t.status&&P(t,"unmount",y.Z?.now()||0),a.Z.removePauseListener(e),window.removeEventListener("resize",r)}},[]),"TIMING"!==g.status||!g.constraintMap[A])return{state:g,context:null};let{startTime:S,metricConfig:j}=g;return{state:g,context:{abort:e=>h({type:"ABORT",reason:e}),addAnnotation:e=>h({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,t,n)=>h({type:"BINARY_ANNOTATE",payload:{name:e,value:t,annotationType:n}}),addSubspan:(e,t,n,r={},a={},i=null)=>h({type:"ADD_SUBSPAN",payload:{name:e,startTime:t,endTime:n,annotations:r,binaryAnnotations:a,parentId:i}}),getId:()=>S,getMetricId:()=>j.metricId,markConstraintComplete:e=>h({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:y.Z?y.Z.now():0}}),removeConstraint:e=>h({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>h({type:"SET_SEGMENT",payload:e}),setVisuallyCompleteResult:j.constraints.includes(E)?e=>h({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,startSubspan:(e,t={},n={},r=null)=>h({type:"START_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:r}}),stopSubspan:(e,t={},n={},r=null)=>h({type:"STOP_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:r}})}}},U=()=>{let e=(0,d.E)(),t=!!e;(0,r.useEffect)(()=>{if(t){let t=e?.getMetricId(),n=t?(0,i.KJ)(t):null;(0,s.H)("nested_pwt_surface",{action:n})}},[t])};function L({children:e,...t}){let n=(0,m.Z)(),r=H(n),a=t.measureGridVisuallyComplete?["web_masonry_v2_auth","web_masonry_v2_unauth","web_fluid_grid_desktop_auth","web_fluid_grid_desktop_unauth"]:[],i=[...t.annotateExperiments??[],...a],{context:o}=k({...t,annotateExperiments:i,navigationInfo:{navigationType:r,clientNavigation:n}});return U(),(0,S.jsx)(d.S,{value:o,children:e})}},431771:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(667294),a=n(791773);function i(){return(0,r.useContext)(a.Z)}},389354:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(883119),a=n(785893);function i({accessibilityLabel:e}){return(0,a.jsx)(r.kC,{alignItems:"center",justifyContent:"center",children:(0,a.jsx)(r.$j,{accessibilityLabel:e,show:!0})})}},616949:(e,t,n)=>{n.d(t,{Z:()=>s,h:()=>o});var r=n(172045),a=n(17314);function i(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let o="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor(1e6*window.performance.now()):()=>1e6*Date.now(),s=class{constructor(e){i(this,"start",()=>(this.startTime=o(),this.startTime)),i(this,"end",()=>(this.endTime=o(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration));try{this.uuid=(0,r.Z)()}catch(e){this.uuid=(0,a.Z)()}e&&Object.assign(this,e)}}},829448:(e,t,n)=>{n.d(t,{Z:()=>r});function r({top:e,right:t,bottom:n,left:r,windowHeight:a,windowWidth:i,threshold:o=0}){return e>=0+o&&r>=0+o&&n<=a-o&&t<=i-o}},891880:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(667294),a=n(477058),i=n(785220),o=n(49985),s=n(785893);class l extends r.Component{componentDidMount(){let{setCurrentPageData:e,viewData:t,viewParameter:n,viewType:r}=this.props;e({viewData:t,viewParameter:n,viewType:r})}componentDidUpdate(e){let{setCurrentPageData:t,viewData:n,viewParameter:r,viewType:a}=this.props;r===e.viewParameter&&a===e.viewType&&(0,i.ZP)(n,e.viewData)||t({viewData:n,viewParameter:r,viewType:a})}componentWillUnmount(){this.props.clearCurrentPageData()}render(){let{auxData:e,children:t,component:n,objectIdStr:r,viewData:a,viewParameter:i,viewType:l,clientTrackingParams:d}=this.props;return(0,s.jsx)(o.Z,{auxData:e,clientTrackingParams:d,component:n,objectIdStr:r,viewData:a,viewParameter:i,viewType:l,children:t})}}function d(e){let{setViewContextData:t,clearViewContextData:n}=(0,a.sV)();return(0,s.jsx)(l,{...e,clearCurrentPageData:n,setCurrentPageData:t})}},49985:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(667294),a=n(488792),i=n(1006);let o=e=>Object.keys(e).reduce((t,n)=>(void 0===e[n]&&delete t[n],t),{...e}),s=({viewType:e,viewParameter:t,viewData:n,auxData:r,objectIdStr:a,component:s,clientTrackingParams:l,element:d},c)=>{let u=o({event_type:13,view_type:e,view_parameter:t,view_data:n,aux_data:r,object_id_str:a,component:s,clientTrackingParams:l,element:d});-1===Object.keys(u).indexOf("view_type")&&(0,i.My)("mweb.logging.null_view_type"),c(u)};function l(e){let{auxData:t,clientTrackingParams:n,children:i,component:o,element:l,objectIdStr:d,viewData:c,viewParameter:u,viewType:p}=e,m=(0,a.Z)(),_=JSON.stringify(t),h=JSON.stringify(c);return(0,r.useEffect)(()=>{s(e,m)},[m,_,n,o,l,d,h,u,p]),r.Children.only(i)}},814779:(e,t,n)=>{n.d(t,{E:()=>o,S:()=>s});var r=n(667294),a=n(786525);let i="_loggingInNotHome",o=e=>{e?(0,a.Nh)(i,1):(0,a.L_)(i)},s=()=>{let[e,t]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{t(!0)},[]),e&&(0,a.qn)(i)}},614785:(e,t,n)=>{var r;n.d(t,{b:()=>a});let a=((r={})[r.False=0]="False",r[r.True=1]="True",r)},376574:(e,t,n)=>{n.d(t,{Z:()=>eU});var r=n(667294),a=n(545007),i=n(616550),o=n(883119),s=n(252071),l=n(609326),d=n(259232),c=n(845614),u=n(602185),p=n(989820),m=n(295393),_=n(476198),h=n(144326),f=n(89393),g=n(876597),y=n(94757),b=n(775383),w=n(982553),v=n(297728),x=n(248750),S=n(288544),I=n(142921),T=n(730212),A=n(957486),E=n(931397),P=n(961754),j=n(750077),Z=n(389354),O=n(864723),C=n(978993),N=n(499671),R=n(1006),M=n(901450),H=n(868808),D=n(410150),k=n(383399),U=n(891880),L=n(243583),z=n(817031),B=n(732988),F=n(24472),W=n(656817),$=n(488792),V=n(955937),G=n(235838),J=n(829448),K=n(928395),q=n(785893);let Y={__style:{textOverflow:"ellipsis",whiteSpace:"nowrap"}},X={HOME:1,BOARD:2,USE_CASE:3};function Q({currentTabIndex:e,tabBoards:t,useCaseTabs:n,isResUserWithUseCaseTabs:s=!1}){let d=(0,r.useRef)(null),c=(0,r.useRef)(!1),{width:u,height:m}=(0,W.Z)()||{width:0,height:0},_=(0,r.useRef)([]),f=(0,i.k6)(),g=(0,h.ZP)(),y=(0,k.Z)(),{checkExperiment:b}=(0,v.F)(),w=b("m10n_measurement_pinterest_tag_us").anyEnabled,x=(0,$.Z)(),S=(0,O.M0)().getItem(l.B9),[I,T]=(0,r.useState)(!!S),A=(0,a.I0)(),E=(e,t)=>A((0,K.r)(e,t)),P="nux_revamp_create_board"===b("ap_bmi_activation_nux_revamp_mweb_v2",{dangerouslySkipActivation:!0}).group,j=t.length+n.length;_.current.length!==j&&(_.current=Array(j).fill(null).map((e,t)=>_.current[t]||(0,r.createRef)()),t.length&&n.length&&s&&(_.current=[..._.current.slice(t.length),..._.current.slice(0,t.length)]));let Z=(t.length||n.length)&&s?[...n.filter(e=>e).map(({id:e,display_name:t},n)=>({href:`/?useCaseId=${String(e)}`,text:(0,q.jsx)(o.xu,{overflow:"hidden",children:t}),boardId:e,tabType:X.USE_CASE,ref:_.current[n]})),...t.filter(e=>e).map(({id:e,name:t},r)=>({href:`/?boardId=${String(e)}`,text:n.length||P?(0,q.jsx)(o.xu,{overflow:"hidden",children:t}):(0,q.jsx)(o.xu,{dangerouslySetInlineStyle:Y,maxWidth:100,overflow:"hidden",children:t}),boardId:e,tabType:X.BOARD,ref:_.current[n.length+r]}))]:[...t.filter(e=>e).map(({id:e,name:t},r)=>({href:`/?boardId=${String(e)}`,text:n.length||P?(0,q.jsx)(o.xu,{overflow:"hidden",children:t}):(0,q.jsx)(o.xu,{dangerouslySetInlineStyle:Y,maxWidth:100,overflow:"hidden",children:t}),boardId:e,tabType:X.BOARD,ref:_.current[r]})),...n.filter(e=>e).map(({id:e,display_name:n},r)=>({href:`/?useCaseId=${String(e)}`,text:(0,q.jsx)(o.xu,{overflow:"hidden",children:n}),boardId:e,tabType:X.USE_CASE,ref:_.current[t.length+r]}))],C=t.length||n.length?[{href:"/",text:(0,q.jsx)(o.xu,{children:g._('All', 'homefeed.moreIdeasTab.homefeedTab', 'Homefeed tab')}),tabType:X.HOME},...Z]:null,N=e=>e===X.HOME?11081:11082,R=(0,r.useRef)([]),M=(e,t,n,r,a)=>{let i={};return i=t?e?a[n-r.length]||{}:r[n]||{}:e?a[n]||{}:r[n-a.length]||{},{id:i?.id||"",title:i?.name||i?.display_name||""}},H=(0,r.useCallback)(()=>{_&&_.current.length&&_.current.forEach((e,r)=>{if(e?.current){let a=s?!n[r]:!!t[r],{id:i,title:o}=M(a,s,r,n,t),l=e.current.getBoundingClientRect();(0,J.Z)({left:l.left,right:l.right,top:l.top,bottom:l.bottom,windowHeight:m,windowWidth:u})&&i&&!R.current.includes(i)&&(x({event_type:13,view_type:1,view_parameter:92,component:13184,element:a?N(X.BOARD):15945,object_id_str:i,aux_data:a?{board_id:i,tab_title:o,referrer:19}:{use_case_id:i,tab_title:o,index:r}}),R.current.push(i))}})},[_,x,t,n,m,u,s]),D=(0,V.Z)(()=>{x({event_type:110,view_type:1,view_parameter:92,component:13184,element:15945})},1e3),U=(0,G.Z)(()=>{H(),n.length&&D()},50);(0,r.useEffect)(()=>{H();let e=d.current;return e&&e.addEventListener("scroll",U),()=>{e?.removeEventListener("scroll",U)}},[H,U]),(0,r.useEffect)(()=>(y.isAuth&&w&&window.pintrk&&window.pintrk("track","pagevisit",{lead_type:"Pinterest mobile homefeed",em:y.email}),()=>{c.current&&(window.cancelAnimationFrame(c.current),c.current=null)}));let L=e=>{let t=C?.[e];if(t){let n=t.tabType===X.USE_CASE,a=n&&(0,r.isValidElement)(t.text)?t.text.props.children:null;E(t.boardId,e),x({event_type:101,view_type:1,view_parameter:92,component:13184,element:n?15945:N(t.tabType),aux_data:n?{use_case_id:t.boardId,tab_title:a,index:e}:{index:e.toString(),board_id:t.boardId,referrer:19},object_id_str:t.boardId})}},z=e=>C?{pathname:(C[e]||C[0]).href,state:(C[e]||C[0]).locationState||void 0}:{};if(!C)return null;let B=()=>{T(!0),(0,O.M0)().setItem(l.B9,!0)},F=C.map(e=>({href:e.href,text:e.text,ref:e.ref})),Q=F[e]?.ref,ee=Q&&"string"!=typeof Q&&"current"in Q&&Q.current;return(0,q.jsxs)(o.xu,{ref:d,"data-test-id":"more-ideas-tabs",fit:!0,marginBottom:1,marginTop:1,overflow:"scrollX",children:[(0,q.jsx)(o.mQ,{activeTabIndex:e,onChange:({activeTabIndex:e})=>{L(e);let{pathname:t,state:n}=z(e);f.push(t,n)},tabs:F}),s&&e>=1&&e<=n.length&&ee&&!I&&(0,q.jsx)(p.a3,{eligibleIds:[507155],placementId:1000590,children:({complete:e,dismiss:t})=>(0,q.jsx)(o.Li,{anchor:Q?.current,idealDirection:"down",message:g._('Find ideas faster with tabs! Then just tap an idea to save it', 'usecasefeed.tab.edu.tooltip.message', 'Use Case Feed Tooltip Message'),onDismiss:()=>{B(),t()},primaryAction:{onClick:()=>{B(),e()},text:g._('Got it!', 'usecasefeed.tab.edu.tooltip.primaryAction', 'Use Case Feed Tooltip Primary Action')}})})]})}var ee=n(220708),et=n(814779),en=n(969119),er=n(614785);function ea(){let[e,t]=(0,r.useState)(""),[n,a]=(0,r.useState)(""),i=(0,$.Z)(),s=(0,h.ZP)(),l=s._('Welcome to your home feed!', 'new.user.welcome.header', 'Welcome message header for new users'),d=s._('Explore ideas picked just for you', 'new.user.welcome.subheader', 'Welcome message subheader to educate new users that their Homfeed is personalized');(0,en.Z)(()=>{i({event_type:13,view_type:1,view_parameter:92,component:15204})});let c=(0,P.Z)({name:"UserStateResource",options:{state:"NUX_SKIPPED"}}).data;return(0,r.useEffect)(()=>{void 0!==c&&(t(l),a(c===er.b.True?"":d))},[c]),(0,q.jsxs)(o.xu,{margin:2,marginBottom:4,marginTop:4,paddingX:2,children:[(0,q.jsx)(o.xu,{marginBottom:1,children:(0,q.jsx)(o.X6,{size:"400",children:e})}),(0,q.jsx)(o.xv,{size:"300",children:n})]})}var ei=n(100981),eo=n(870136),es=n(335108),el=n(66560),ed=n(202129),ec=n(415787),eu=n(179735);function ep(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let em=(0,eu.Z)(()=>n.e(30157).then(n.bind(n,758269)),void 0,"app-www-pages-duplo-CoreActionsHeader"),e_=(0,eu.Z)(()=>n.e(63956).then(n.bind(n,598821)),void 0,"app-www-stories-FullWidthPinStory"),eh=(0,eu.Z)(()=>n.e(26451).then(n.bind(n,191757)),void 0,"app-www-Homefeed-HomefeedMoreIdeasTabContent"),ef=(0,eu.Z)(()=>n.e(77591).then(n.bind(n,681313)),void 0,"app-www-Homefeed-HomefeedUseCaseTabContent"),eg=(0,eu.Z)(()=>n.e(44985).then(n.bind(n,499422)),void 0,"app-www-stories-LandingPageStory-LandingPageStory"),ey=(0,r.lazy)(()=>n.e(92968).then(n.bind(n,892968))),eb=(0,r.lazy)(()=>Promise.all([n.e(13377),n.e(24698)]).then(n.bind(n,713377))),ew=(0,r.lazy)(()=>n.e(53062).then(n.bind(n,753062))),ev=(0,r.lazy)(()=>n.e(27733).then(n.bind(n,827733))),ex=(0,r.lazy)(()=>n.e(97007).then(n.bind(n,297007))),eS=(0,r.lazy)(()=>n.e(29310).then(n.bind(n,829310))),eI={feedKey:eo.xJ,trafficSource:eo.WV,resourceName:eo.om,feedItemProps:e=>({viewParameter:92,viewType:1,onFeedItemClick:()=>{e.onFeedItemClick&&e.onFeedItemClick()}}),pullToRefresh:!0},eT=()=>({includeBackgroundImages:!0,includeVideos:!0,pins:Object.values((0,el.AF)())}),eA=()=>{let e=(0,a.I0)(),t=(0,a.v9)(({feeds:e})=>e[eo.xJ]),n=(0,a.v9)(({session:e})=>e.firstHomeFeedRequestAfterNux);(0,r.useEffect)(()=>{t&&t.length>0&&n&&e((0,es.H5)(!1))},[e,t,n])},eE=()=>{let{isGraphQLEnabledInGeneral:e}=(0,L.nF)(),{locale:t}=(0,T.B)(),n=(0,el.AF)();return({feedItems:r,prevFeedItems:a,finishedRefresh:i,unauthLandingPinStateForAuthHomefeed:{pinId:o,feedItem:s}})=>{if(!r.length)return null;if(i&&a.length>0){let e=(e,t)=>e.slice(0,t).map(e=>e.id),n=e(a,5),i=e(r,5),o={appType:"mweb",language:t&&t.slice(0,2)||"unknown",locale:t||"unknown"};(0,ec.nP)("home_product.homefeed.refresh",{sampleRate:1,tags:o}),JSON.stringify(n)===JSON.stringify(i)&&(0,ec.nP)("home_product.homefeed.refresh.no_change",{sampleRate:1,tags:o})}if(o&&!e){if(a.length>0&&a[0]!==r[0])return(0,O.M0)().removeItem(l.uc),{feedItem:null,pinId:null};if((0===a.length||a[0]===r[0]&&a.length!==r.length||!s)&&n[o]&&!r.slice(0,5).some(({id:e})=>e===o))return{feedItem:{id:o,type:"pin",trackingParams:r[0].trackingParams},pinId:o}}return null}},eP={first_page_size:"25",page_size:"10"},ej=({homefeedResourceRef:e,webMobileHomeFeedTakoverExperience:t})=>{let{feedKey:n,feedItemProps:r,pullToRefresh:s}=eI,l=(0,i.TH)(),d=(0,i.k6)(),c=(0,i.$B)(),u=(0,a.v9)(({session:e})=>e.firstHomeFeedRequestAfterNux),p=(0,ei.Z)(),{checkExperiment:m}=(0,v.F)(),_={webMobileHomeFeedTakoverExperience:t,location:l,history:d,match:c},h=(0,a.v9)(({feeds:e})=>e[n]??[]),f=!u,g={...eo.HH,...f?{...eP}:{in_nux:u},in_local_navigation:m("hfp_nav_tabs_unity_mweb").anyEnabled},y=(0,P.Z)(p?null:{name:eo.om,options:g}),{data:b,isAtEnd:w}=(0,A.Z)(e),x=p?b:y.data,S=p?w:y.isAtEnd,I=!p&&y.isFetching,T=p?e.fetchMore:y.fetchMore,E=p?e.refresh:y.refresh,j=eT();u&&(0,ec.nP)("home_product.homefeed.has_in_nux_flag",{sampleRate:.1,tags:{appType:"mweb"}}),eA();let Z=eE(),O=x?.length?x[0]:null;if(t&&t.display_data?.in_checklist_education&&t.display_data?.num_columns_requested===2){let e={type:"fullWidthBreakIn",value:{index:0,content:O?.id&&(0,q.jsx)(ed.Z,{storyId:O.id,children:e=>(0,q.jsx)(e_,{slotIndex:0,story:e,viewParameter:3833,viewType:604})})}},t=h.slice(1);return(0,q.jsx)(o.xu,{"data-test-id":"homefeed",children:(0,q.jsx)(z.Zt,{authHomefeedComponentDidUpdate:Z,feedItemProps:r&&r(_),feedItems:t,feedItemsAdjustment:e,feedKey:n,pagination:{hasNext:!S,isLoadingNext:I,loadNext:()=>T(),refetch:()=>E()},pullToRefresh:s,trafficSource:eo.WV,visuallyCompleteProfilerOptions:j})})}return p?f&&!t?.display_data?(0,q.jsx)(o.xu,{"data-test-id":"homefeed-ssr",children:(0,q.jsx)(z.o3,{authHomefeedComponentDidUpdate:Z,feedItemProps:r&&r(_),feedKey:eo.xJ,pullToRefresh:s,resourceRef:e,serverRender:!0,trafficSource:eo.WV,visuallyCompleteProfilerOptions:j})}):(0,q.jsx)(o.xu,{"data-test-id":"homefeed",children:(0,q.jsx)(z.o3,{authHomefeedComponentDidUpdate:Z,feedItemProps:r&&r(_),feedKey:n,pullToRefresh:s,resourceRef:e,trafficSource:eo.WV,visuallyCompleteProfilerOptions:j})}):f&&!t?.display_data?(0,q.jsx)(o.xu,{"data-test-id":"homefeed-ssr",children:(0,q.jsx)(z.iK,{authHomefeedComponentDidUpdate:Z,feedItemProps:r&&r(_),feedKey:eo.xJ,pullToRefresh:s,resource:y,serverRender:!0,trafficSource:eo.WV,visuallyCompleteProfilerOptions:j})}):(0,q.jsx)(o.xu,{"data-test-id":"homefeed",children:(0,q.jsx)(z.iK,{authHomefeedComponentDidUpdate:Z,feedItemProps:r&&r(_),feedKey:n,pullToRefresh:s,resource:y,trafficSource:eo.WV,visuallyCompleteProfilerOptions:j})})},eZ=(0,eu.Z)(()=>n.e(67577).then(n.bind(n,467577)),{ssr:!1}),eO=(0,eu.Z)(()=>n.e(45516).then(n.bind(n,445516)),{ssr:!1}),eC=(0,eu.Z)(()=>n.e(98885).then(n.bind(n,498885)),{ssr:!1}),eN=(0,eu.Z)(()=>n.e(22084).then(n.bind(n,922084)),{ssr:!1}),eR=(0,eu.Z)(()=>n.e(80724).then(n.bind(n,780724)),{ssr:!1}),eM=(0,eu.Z)(()=>n.e(90193).then(n.bind(n,290193)),{ssr:!1});class eH extends r.PureComponent{constructor(...e){super(...e),ep(this,"state",{...(0,ee.H)(),currentTabIndex:"number"==typeof this.props.selectedTabIndex?this.props.selectedTabIndex:F.ef,showUnlinkTokenExpiredModal:!1,showDeleteAccountSurveyModal:!1,showYipModal:!1,shouldDismissCoreActionsHeader:!1}),ep(this,"claimReferral",e=>{(0,R.My)("mweb.partner.referral.claim.attempt");let t=c.H.getData();s.Z.create("ReferralClaimResource",{referralCode:t,receiverUserId:e}).callUpdate().then(()=>{c.H.setSenderOfferClaimed(),(0,R.My)("mweb.partner.referral.claim.success"),this.props.showToast(({hideToast:e})=>(0,q.jsx)(_.Z,{duration:5e3,href:"/business/install_app",onHide:e,text:this.props.i18n._('You\u2019ve claimed an offer. Launch ads to get started.', 'business_hub.offer_toast.success', 'Toast indicating a referral offer was successfully claimed')}))}).catch(()=>{c.H.resetStatus(),(0,R.My)("mweb.partner.referral.claim.error"),this.props.showToast(({hideToast:e})=>(0,q.jsx)(_.Z,{duration:5e3,onHide:e,text:this.props.i18n._('Sorry, you don\u2019t qualify for this offer', 'business_hub.offer_toast.error', 'Toast indicating a referral offer could not be claimed'),type:"error"}))})}),ep(this,"renderOptInInterestPicker",()=>{let{everythingFeedExperience:e,isLimitedLogin:t}=this.props,{extraPlpImages:n,extraBlpImages:r}=this.state,a=!t&&e&&504192===e.experience_id,i=a&&e&&e.display_data&&e.display_data.full_screen_modal;return e&&a?(0,q.jsx)(u.Z,{name:"SafeSuspense_HomePage_OptInInterestPicker",children:i?(0,q.jsx)(eM,{experience:e,extraImageInfo:n.length>0?n:r,viewParameter:92,viewType:1}):(0,q.jsx)(eN,{experience:e,viewParameter:92,viewType:1})}):null})}static getDerivedStateFromProps(e){let{selectedTabIndex:t}=e;return"number"==typeof t?{currentTabIndex:t}:null}componentDidMount(){let{currentUserId:e,dispatchViewedSharedPins:t,isPartner:n,location:r,pwtStaticContext:a,i18n:i,isAuthenticated:o,showToast:s,history:l}=this.props,{sharedPinData:u}=this.state;(0,et.E)(!1),(0,d.Z)(),u&&Object.keys(u).length>0&&t(u),n&&e&&c.H.shouldClaimReferral()&&this.claimReferral(e),o&&(0,x.S$)({appLoadName:"home_feed_pinteractive",clientNavName:"home_feed_render"},a),r.state?.unlinkTokenInvalid&&this.setState({showUnlinkTokenExpiredModal:!0}),r.state?.isCloseAccountReasonOpen&&this.setState({showDeleteAccountSurveyModal:!0}),r.state?.showError&&s(({hideToast:e})=>(0,q.jsx)(_.Z,{duration:5e3,onHide:e,text:i._('We can\u2019t find that idea! Try searching for one just like it.', ' - ', ' -- '),type:"error"})),(0,H.mB)(r.search).show_yip_modal&&(l.replace("/"),this.setState({showYipModal:!0}))}render(){let{checkExperiment:e,currentUserId:t,currentUsername:n,everythingFeedExperience:a,history:i,homefeedResourceRef:s,i18n:l,isAuthenticated:d,isEligibleForCoreActionsHeader:c,isPartner:_,location:h,moreIdeasStory:f,newUserWelcomeStoryExperience:g,webMobileHomeFeedTakoverExperience:w,selectedTabBoardId:v,useCaseTabs:x,tabBoards:S,isResUserWithUseCaseTabs:I}=this.props,{currentTabIndex:T,showUnlinkTokenExpiredModal:A,showDeleteAccountSurveyModal:E,showYipModal:P,shouldDismissCoreActionsHeader:O}=this.state,C=(0,H.mB)(h.search),R=C&&C.boardId||v,M=x?.find(e=>e.id===R)?.display_name||"";if(a)switch(a.experience_id){case 40002:case 10105:return(0,q.jsx)(u.Z,{name:"SafeSuspense_HomePage_Nux",children:(0,q.jsx)(j.Z,{fallback:(0,q.jsx)(Z.Z,{accessibilityLabel:this.props.i18n._('Loading new user education', 'Loading spinner', 'Loading spinner')}),children:_?(0,q.jsx)(eC,{experience:a}):(0,q.jsx)(eO,{experience:a})})});case 500681:return(0,q.jsx)(u.Z,{name:"SafeSuspense_HomePage_ContactUpdate",children:(0,q.jsx)(eZ,{fallback:(0,q.jsx)(Z.Z,{accessibilityLabel:this.props.i18n._('Loading experience', 'loading experience spinner', 'loading experience spinner')})})})}let D="enabled"===e("ap_nux_revamp_mweb_welcome_experience",{dangerouslySkipActivation:!0}).group||"enabled_no_tooltip"===e("ap_nux_revamp_mweb_welcome_experience",{dangerouslySkipActivation:!0}).group,k=d&&e("mweb_hf_core_actions_header").anyEnabled&&c;return(0,q.jsx)(U.Z,{viewParameter:92,viewType:1,children:(0,q.jsx)(N.Z,{view:1,viewParameter:92,children:(0,q.jsxs)(b.default,{dataLayoutShiftBoundaryId:"AuthHomePageContainer",hasFixedHeader:!0,children:[(0,q.jsx)(B.Z,{text:l._('Home', 'HomePage.HiddenAccessibilityHeader', 'Accessibility h1 at home page')}),a&&D&&(0,q.jsx)(p.a3,{eligibleIds:[506938],experience:a,children:(0,q.jsx)(ea,{})}),(!!S?.length||!!x?.length)&&(0,q.jsx)(y.default,{hideOnScroll:d,noPadding:!0,overrideTop:0,children:(0,q.jsx)(o.xu,{paddingY:1,children:(0,q.jsx)(Q,{currentTabIndex:T,isResUserWithUseCaseTabs:I,tabBoards:S||[],useCaseTabs:x||[]})})}),f&&(0,q.jsx)(o.xu,{marginEnd:-4,marginStart:-4,paddingY:2,children:(0,q.jsx)(ed.Z,{storyId:f.id||"",children:e=>(0,q.jsx)(e_,{slotIndex:0,story:e,viewParameter:92,viewType:1},f.id)})}),!I&&T!==F.ef&&R&&(T<=(S?.length??0)?(0,q.jsx)(eh,{boardId:R}):(0,q.jsx)(ef,{index:T,useCaseId:R,useCaseName:M}))||I&&T!==F.ef&&R&&(T>(x?.length??0)?(0,q.jsx)(eh,{boardId:R}):(0,q.jsx)(ef,{index:T,useCaseId:R,useCaseName:M}))||(0,q.jsxs)(r.Fragment,{children:[(0,q.jsx)(p._f,{experience:a}),(0,q.jsx)(p.b9,{placementId:40001}),(0,q.jsx)(p.nj,{experience:a}),(0,q.jsx)(m.Z,{placementId:a?.placement_id}),(0,q.jsx)(p.H6,{placementId:1000544}),(0,q.jsx)(p.k6,{placementId:1000558}),(0,q.jsx)(p.a3,{eligibleIds:[500726,500866,500735,500833,501182,501275,501385,501358,501908,501909,503291],experience:a,children:(0,q.jsx)(j.Z,{children:(0,q.jsx)(ew,{experience:a})})}),a&&(0,q.jsx)(p.a3,{eligibleIds:[505326],experience:a,children:({complete:e,dismiss:t})=>(0,q.jsx)(r.Suspense,{children:(0,q.jsx)(eS,{complete:e,dismiss:t})})}),a&&(0,q.jsx)(p.a3,{eligibleIds:[505801],experience:a,children:({complete:e})=>(0,q.jsx)(r.Suspense,{children:(0,q.jsx)(ex,{complete:e})})}),g?.display_data?.story&&g.display_data.showUpdatedLandingPageStory&&(0,q.jsx)(eg,{isMoreIdeasTabsVisible:!!S?.length,newUserWelcomeStoryExperience:g}),(0,q.jsxs)(o.xu,{marginTop:S?.length||f?0:2,children:[!O&&k&&(0,q.jsx)(em,{onDismiss:()=>{this.setState({shouldDismissCoreActionsHeader:!0})},username:n||""}),(0,q.jsx)(ej,{homefeedResourceRef:s,webMobileHomeFeedTakoverExperience:w})]})]}),A&&(0,q.jsx)(j.Z,{children:(0,q.jsx)(o.xu,{"data-test-id":"unlink-expired-token",children:(0,q.jsx)(ev,{onDismiss:()=>{i.replace("/"),this.setState({showUnlinkTokenExpiredModal:!1})}})})}),E&&(0,q.jsx)(j.Z,{children:(0,q.jsx)(ey,{isPartner:_,onDismiss:()=>{i.replace("/"),this.setState({showDeleteAccountSurveyModal:!1})},userId:t,username:n})}),P&&(0,q.jsx)(u.Z,{name:"YearInPreviewConfirmPublishModal",children:(0,q.jsx)(eR,{onModalDismiss:()=>{this.setState({showYipModal:!1})}})}),this.renderOptInInterestPicker()]})})})}}let eD=[];function ek({homefeedResourceRef:e,moreIdeasTabsBoardsResourceRef:t}){let n;let r=(0,h.ZP)(),o=(0,a.I0)(),s=(0,k.Z)(),{showToast:d}=(0,M.F9)(),c=(0,I.Z)(),u=(0,i.k6)(),m=(0,i.TH)(),_=(0,ei.Z)(),{checkExperiment:y}=(0,v.F)(),b="true"===(0,C.qn)("completedMiniRenux"),x=(0,p._P)({id:40001,extraContext:b?{completed_mini_renux:b}:void 0,shouldUsePlacedExperience:!1}),T=(0,p._P)({id:1000115}),E=(0,p._P)({id:1000411}),Z=(0,a.v9)(({feeds:e})=>e.homefeed),N=(0,a.v9)(({homefeedTabUI:e})=>e.activeTabBoardId),R=(0,a.v9)(({homefeedTabUI:e})=>e.activeTabIndex),{isAuth:H,isLimitedLogin:U}=s,L=s.isAuth?s.id:void 0,z=s.isAuth?s.username:void 0,B=!!s.isAuth&&s.isPartner,F=(0,D.HG)(),W=Array.isArray(Z)?Z:[],$=!F&&W[0]&&"story"===W[0].type?W[0]:null,V=(0,a.v9)(({stories:e})=>$?e[$.id]:null),G=V&&V.story_type&&V.story_type.startsWith("boards_more_ideas_feed_upsell")?V:null,{data:J}=(0,P.Z)(y("hfp_nav_tabs_unity_mweb").anyEnabled||_?null:{name:"MoreIdeasTabsBoardsResource",options:{redux_normalize_feed:!0}}),{data:K}=(0,A.Z)(t);n=y("hfp_nav_tabs_unity_mweb").anyEnabled?W.find(({type:e})=>"home_feed_tabs"===e)?.tabs:_?K:J;let Y=O.ZP.getItem(l.gM);H&&null!=Y&&s.createdAt&&!(0,f.Z)(s.createdAt)&&O.ZP.removeItem(l.gM);let X=!1;null!==Y&&(X="enabled"===y("ap_bmi_custom_activation_nux_revamp_mweb_v2").group);let Q=null;(0,g.Z)(null,s)&&"enabled"===y("ap_bmi_res_custom_activation_nux_revamp_mweb_v2").group&&(X=!0,Q=[],null===(0,O.M0)().getItem(l.Jl)&&O.ZP.setItem(l.Jl,"[]"));let ee=X&&Y?Array.from(new Map(JSON.parse(Y)).keys()):null,{data:et}=(0,P.Z)(X&&(ee||Q)?{name:"ApiResource",options:{url:"/v3/usecases/recommendation/",data:{seed_use_cases:ee||Q,fields:["nuxusecase.id","nuxusecase.display_name"]}}}:null),{data:en}=(0,P.Z)(H&&y("mweb_hf_core_actions_header",{dangerouslySkipActivation:!0}).anyEnabled?{name:"UserResource",options:{user_id:s.id,field_set_key:"core_actions_header"}}:null),er=(0,D.ml)(),ea=(0,w.jr)(s);return(0,q.jsxs)(S.Z,{measureGridVisuallyComplete:!0,surface:"homefeed",children:[ea&&(0,q.jsx)(j.Z,{children:(0,q.jsx)(eb,{})}),(0,q.jsx)(eH,{checkExperiment:y,currentUserId:L,currentUsername:z,dispatchViewedSharedPins:e=>o((0,es.dz)(e)),everythingFeedExperience:x,history:u,homefeedResourceRef:e,i18n:r,isAuthenticated:H,isEligibleForCoreActionsHeader:en?.is_eligible_for_core_actions_header,isLimitedLogin:U,isMobile:er,isPartner:B,isResUserWithUseCaseTabs:!!Q,location:m,moreIdeasStory:G,newUserWelcomeStoryExperience:E,pwtStaticContext:c,selectedTabBoardId:N,selectedTabIndex:R,showToast:d,tabBoards:n??eD,useCaseTabs:et??[],webMobileHomeFeedTakoverExperience:T})]})}function eU(){let e=(0,ei.Z)(),t=(0,a.v9)(({session:e})=>e.firstHomeFeedRequestAfterNux),{checkExperiment:n}=(0,v.F)(),i={...eo.HH,...t?{in_nux:t}:{...eP},in_local_navigation:n("hfp_nav_tabs_unity_mweb").anyEnabled},o=(0,E.Z)(e?{name:eo.om,options:i}:null),s=(0,E.Z)(!n("hfp_nav_tabs_unity_mweb").anyEnabled&&e?{name:"MoreIdeasTabsBoardsResource",options:{redux_normalize_feed:!0}}:null);return e?(0,q.jsx)(r.Suspense,{children:(0,q.jsx)(ek,{homefeedResourceRef:o,moreIdeasTabsBoardsResourceRef:s})}):(0,q.jsx)(ek,{homefeedResourceRef:o,moreIdeasTabsBoardsResourceRef:s})}},870136:(e,t,n)=>{n.d(t,{EP:()=>l,HH:()=>s,WV:()=>i,om:()=>o,xJ:()=>a});var r=n(786974);let a="homefeed",i="feed_home",o="UserHomefeedResource",s={field_set_key:"mobile_grid_item",prepend:!1},l=(0,r.Z)(s)},928395:(e,t,n)=>{n.d(t,{r:()=>r});let r=(e,t)=>({type:"SET_ACTIVE_HOMEFEED_TAB",payload:{boardId:e,index:t}})},335108:(e,t,n)=>{n.d(t,{Cp:()=>d,FK:()=>l,H5:()=>w,MI:()=>h,O0:()=>_,QZ:()=>s,W:()=>y,WF:()=>u,Wz:()=>v,a5:()=>p,dz:()=>g,e0:()=>m,e2:()=>o,iW:()=>b,n1:()=>i,rm:()=>c,xu:()=>f});var r=n(282999),a=n(812477);let i=()=>({type:"DISMISS_UNAUTH_SAVE"}),o=()=>({type:"COMPLETE_UNAUTH_SAVE_ACTION"}),s=e=>({type:"SET_UNAUTH_SAVE_PIN_ID",payload:{unauthSavePinId:e}}),l=()=>({type:"HIDE_NAV_FOOTER"}),d=()=>({type:"SHOW_NAV_FOOTER"}),c=e=>({type:"SET_LOGIN_SIGNUP_FROM",payload:{from:e}}),u=()=>({type:"SHOW_REPIN_ANIMATION"}),p=()=>({type:"HIDE_REPIN_ANIMATION"}),m=e=>({type:"SET_NUM_SIGNUP_STEPS",payload:{steps:e}}),_=()=>({type:"SET_OWN_PROFILE_PINS_REFRESH"}),h=e=>({type:"SHOW_BIZ_NUX_HOMEFEED_LOADER",payload:e}),f=e=>({type:"SET_VIEWED_IMAGE",payload:{viewedImageSignature:e}}),g=e=>({type:"SET_VIEWED_SHARED_PINS",payload:{pins:e}}),y=()=>({type:"DISMISS_UNAUTH_APP_UPSELL"}),b=e=>e?{type:"LOGGED_OUT_USER_INFO_FOUND",payload:e}:{type:"LOGGED_OUT_USER_INFO_NOT_FOUND"},w=e=>({type:"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",payload:e}),v=(e,t)=>({type:"SET_LANDING_PAGE_TYPE",payload:e?(0,r.bo)(e)?"today":(0,r.dr)(e)?"ideas":t&&(0,r.dZ)(e,t)?"own_section":t&&(0,r.J)(e,t)?"own_board":(0,r.OJ)(e)?"section":(0,r.am)(e)?"board":(0,r.L6)(e)?"closeup":(0,r.C$)(e)?"home":(0,a.Z)(e)?"profile":(0,r.En)(e)?"search":(0,r.$V)(e)?"topic":"":""})},202129:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(545007);function a({children:e,storyId:t}){let n=(0,r.v9)(({stories:e})=>e[t]);return n&&e(n)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/33640-33be5b8a7d6bb0ba.mjs.map