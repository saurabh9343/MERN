"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[76766],{212515:(e,t,r)=>{r.d(t,{Q:()=>l,Z:()=>d});var i=r(667294),n=r(488792),o=r(477058),a=r(972147),s=r(730212);function l(e,t){let{setViewContextData:r}=(0,o.sV)(),{requestIdentifier:l}=(0,s.B)(),d=(0,n.Z)(),{viewData:c}=(0,o.SU)();(0,i.useEffect)(()=>{e&&(r({viewType:e.view_type??1,viewParameter:e.view_parameter,viewData:e.view_data?(0,a.Z)(c,e.view_data):c,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),d({...e,event_type:13,request_identifier:l}))},[t])}function d(e){let{children:t,log:r}=e;return l(r),t||null}},333733:(e,t,r)=>{r.d(t,{Z:()=>c});var i=r(667294),n=r(883119),o=r(876594),a=r(793874),s=r(635284),l=r(556712),d=r(785893);function c({children:e,footerConfig:t,headerConfig:r,height:c,hideOnScroll:h,hideOnScrollState:{isHidden:p,updateHiddenState:u},noPadding:m,paddingY:g=l.og,type:f,zIndex:v}){let S,b;let{headerLimitedOverflow:x,ignoreObstructions:_,zIndexForGestaltBug:y}=r||{},{appUpsellFooterConfig:w,footerInLego:P,navFooterConfig:C}=t||{},j=!!w,O="header"===f?"top":"bottom",A=(0,a.vs)(),D=(0,i.useRef)(null),T=(0,i.useRef)(null);(0,i.useEffect)(()=>{try{if(!_){let e=D.current;T.current=x&&e&&Array.isArray(e.children)?e.children[0]:e,T.current instanceof HTMLElement&&s.Z.addObstruction(O,T.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{!_&&T.current instanceof HTMLElement&&s.Z.removeObstruction(O,T.current)}},[_,x,O,A]);let Z="top"===O?"relative":"fixed",E=(c??l.R$)+(r?.overrideTop||0),L=h||C?{transition:P?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...p?{transform:`translateY(${"top"===O?-E:E}px)`,opacity:P?0:1}:Object.freeze({})}:{},k="relative"!==Z||r?.noGutter?0:2,H=k?-k:0;A&&("header"===f?S=-1:b=-1);let I=r?.isTransparentBackground&&o.o7L||r?.isTranslucent&&(A?"rgba(0,0,0,.95)":"rgba(255,255,255,.95)")||o.k95;return(0,d.jsx)(n.xu,{ref:D,bottom:"footer"===f,dangerouslySetInlineStyle:{__style:{top:S,bottomStyle:b,...!v||y?{zIndex:y||1}:Object.freeze({}),...x?{background:"transparent",overflow:"hidden",paddingBottom:l.UB,marginBottom:-l.UB,pointerEvents:"none"}:Object.freeze({}),...r?.hasBorder?{borderBottom:l.dS}:Object.freeze({}),...t?.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...L}},"data-test-id":f,display:j?"flex":void 0,height:c&&!P?c:void 0,left:!0,marginEnd:P?"auto":H,marginStart:P?"auto":H,onTransitionEnd:()=>{(h||C)&&T.current&&(p?s.Z.removeObstruction(O,T.current):s.Z.addObstruction(O,T.current))},position:Z,right:!0,top:"header"===f,width:P||"fixed"!==Z?void 0:"100%",zIndex:y?void 0:v,children:(0,d.jsx)(n.xu,{alignItems:t?.alignCenter?"center":void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:I,height:P?j?void 0:c??l.R$:"100%",boxShadow:P?l.KJ:void 0,marginBottom:P&&!C?.docked?16:void 0,...x?{pointerEvents:"auto"}:Object.freeze({}),...r?.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},display:P||t?.alignCenter?"flex":void 0,marginEnd:P?"auto":void 0,marginStart:P?"auto":void 0,paddingX:("footer"!==f||m?0:4)+k,paddingY:m?0:g,position:"relative",rounding:P&&!C?.docked?"pill":void 0,width:C?C.footerWidth:j?void 0:"100%",children:"function"==typeof e?e({updateHiddenState:u}):e})})}},94757:(e,t,r)=>{r.r(t),r.d(t,{default:()=>l});var i=r(883119),n=r(556712),o=r(333733),a=r(727976),s=r(785893);function l({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:r,isTranslucent:l,isTransparentBackground:d,noGutter:c,overrideTop:h,useRoundedCorners:p,zIndexForGestaltBug:u,...m}){let{noPadding:g,paddingY:f=n.og,zIndex:v}=m;return(0,s.jsx)(i.Le,{height:t?n.LV+8*(g?0:f):void 0,top:h||0,zIndex:v||void 0,children:(0,s.jsx)(a.Z,{hideOnScroll:m.hideOnScroll,children:i=>(0,s.jsx)(o.Z,{...m,headerConfig:{isTranslucent:l,isTransparentBackground:d,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:r,noGutter:c,overrideTop:h,zIndexForGestaltBug:u,useRoundedCorners:p},hideOnScrollState:i,type:"header"})})})}},727976:(e,t,r)=>{r.d(t,{Z:()=>a});var i=r(667294),n=r(235838);function o(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class a extends i.Component{constructor(...e){super(...e),o(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!!this.props.navFooterConfig?.isDockedNavOnPlp}),o(this,"lastScrollPos",0),o(this,"updateHiddenState",e=>{this.reqAnimationId=window.requestAnimationFrame(()=>{this.setState({isHidden:e})})}),o(this,"handleScroll",(0,n.Z)(()=>{let{appUpsellFooterConfig:e,navFooterConfig:t}=this.props,{isHidden:r}=this.state,i=window.scrollY,n=i-this.lastScrollPos,o="none",{scrollHeight:a,clientHeight:s}=document.documentElement||{};Number.isNaN(a)||Number.isNaN(s)||(o=n<0?i<=Math.abs((window.scrollMinY||0)+Math.max(n,20))?"start":"none":i>=(window.scrollMaxY||a-s)-Math.max(n,20)?"end":"none");let l=t?.isModal?0:55;e?n>20&&r&&i>=500?e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),t?.onScroll(!1)):(n<-20&&!r||i<=l)&&(this.updateHiddenState(!0),t?.onScroll(!0)):this.props.navFooterConfig?.isDockedNavOnPlp?"start"===o&&!r||i<=l?(this.updateHiddenState(!0),t?.onScroll(!0)):(i>l||"end"===o)&&r&&(this.updateHiddenState(!1),t?.onScroll(!1)):(n<-20||"start"===o)&&r||i<=l?(this.updateHiddenState(!1),t?.onScroll(!1)):(n>20||"end"===o)&&!r&&(this.updateHiddenState(!0),t?.onScroll(!0)),this.lastScrollPos=i},30))}componentDidMount(){try{(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll||!e.navFooterConfig?.isDockedNavOnPlp&&this.props.navFooterConfig?.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||e.navFooterConfig?.isDockedNavOnPlp&&!this.props.navFooterConfig?.isDockedNavOnPlp)&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){let{children:e,navFooterConfig:t}=this.props,{isHidden:r}=this.state;return e({isHidden:!t?.forceShow&&r,updateHiddenState:this.updateHiddenState})}}},556712:(e,t,r)=>{r.d(t,{KJ:()=>s,LV:()=>a,R$:()=>i,UB:()=>o,dS:()=>l,og:()=>n});let i=64,n=3,o=100,a=44,s="0px 0px 8px rgba(0, 0, 0, 0.1)",l="1px solid #efefef"},972147:(e,t,r)=>{r.d(t,{Z:()=>function e(t,r,i=()=>void 0){let n=i(t,r);return void 0!==n?n:void 0===r?t:Array.isArray(t)&&Array.isArray(r)?r.reduce((t,n,o)=>(t[o]=e(t[o],r[o],i),t),[...t]):t&&"object"==typeof t&&r&&"object"==typeof r?Object.keys(r).reduce((t,n)=>(t[n]=e(t[n],r[n],i),t),{...t}):r}})},499671:(e,t,r)=>{r.d(t,{Z:()=>v});var i=r(667294),n=r(883119),o=r(136061),a=r(766546),s=r(730212),l=r(655201),d=r(616949),c=r(158776),h=r(603667),p=r(66560),u=r(785893);function m(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class g extends i.Component{constructor(e){super(e),m(this,"componentWillUnmount",()=>{this.unregisterComponent()}),m(this,"getContext",()=>{let{clientTrackingParams:e,component:t,element:r,objectId:i,timeSpentContext:n,view:o,viewParameter:a}=this.props;return{view:o||n?.view,viewParameter:a||n?.viewParameter,component:t||n?.component,element:r,objectId:i||n?.objectId,clientTrackingParams:e||n?.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}}),m(this,"getLoggerContext",()=>{let e={...this.getContext()};return delete e.getParentUuid,e}),m(this,"getParentId",()=>{let{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){let t=e.getGrandparentUuid();if(t)return t}return e&&e.getParentUuid?e.getParentUuid():void 0}),m(this,"getUuid",()=>this.state.timedPair?this.state.timedPair.uuid:void 0),m(this,"getTimedPair",()=>this.state.timedPair),m(this,"setTimedPair",(e,t)=>{this.setState({timedPair:e},()=>{t&&t()})}),m(this,"isRegistered",!1),m(this,"registerComponent",()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0}),m(this,"unregisterComponent",()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)}),m(this,"handleVisibilityChange",e=>{let{intersectionRatio:t}=e[0],{bottom:r,left:i,right:n,top:o}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===r&&0===i&&0===n&&0===o?this.unregisterComponent():this.registerComponent())}),this.state={timedPair:new d.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,l.Z)(e.auxData,this.props.auxData)&&(0,l.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){let{children:e,intersectionObserverBoxHeight:t}=this.props;return(0,u.jsx)(c.$,{value:this.getContext(),children:(0,u.jsx)(a.Z,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:r=>(0,u.jsx)(n.xu,{ref:r,height:t??"100%",children:i.Children.only(e)})})})}}function f(e){let t=(0,o.Hv)(),r=(0,c.Z)(),n=(0,h.Z)(),a=(0,p.H0)(),{requestIdentifier:l=""}=(0,s.B)(),d={app_instance_id:l.slice(0,8),...e.auxData??{}};return(0,i.useEffect)(()=>{n?.setHistoryStackContext(t)},[t,n]),(0,i.useEffect)(()=>{n?.setPins(a??{})},[a,n]),n?(0,u.jsx)(g,{...e,auxData:d,timeSpentContext:r,timeSpentManager:n,children:e.children}):e.children}f.displayName="DeprecatedTimeSpent";let v=f},158776:(e,t,r)=>{r.d(t,{$:()=>i,Z:()=>n});let{Provider:i,useMaybeHook:n}=(0,r(498490).Z)("timeSpentContext")},607526:(e,t,r)=>{r.d(t,{Z:()=>h});var i=r(667294),n=r(883119),o=r(488792),a=r(144326),s=r(950280),l=r(748327),d=r(803792),c=r(785893);function h({history:e,placeholder:t,query:r="",scope:h,type:p="default",viewParameter:u,viewType:m,height:g=48,shouldInputFocusOnTouch:f=!1}){let v=(0,a.ZP)(),S=(0,d.U)(),b=(0,o.Z)();(0,i.useEffect)(()=>{S&&setTimeout(()=>{S.preload?.(l.ke("search.js"))},500)},[]);let x={default:{label:v._('Search', 'SearchBar.searchTypes.default.label', 'Search input label'),path:"/search/"},syop:{label:"en"===v.getLocaleData().locale.split("-")[0]?v._('Search your Pins', 'SearchBar.searchTypes.profile.englishLabel', 'text for profile search bar'):v._('Search', 'SearchBar.searchTypes.profile.nonEnglishLabel', 'text for profile search bar'),path:"/search/me/"}},_=()=>x[p].path,y=()=>{let t=_();b({component:43,element:227,event_type:102,aux_data:{entered_query:r},view_parameter:u,view_type:m});let i=(0,s.Z)({query:r,searchPath:t,scope:h,shouldInputFocusOnTouch:f});return e.push(i)},w=t||x[p].label,P=r?(0,c.jsx)(i.Fragment,{children:(0,c.jsx)(n.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:(0,c.jsx)(n.xu,{marginStart:1,overflow:"hidden",children:(0,c.jsx)(n.xv,{inline:!0,lineClamp:1,weight:"bold",children:r})})})}):(0,c.jsxs)(i.Fragment,{children:[(0,c.jsx)(n.JO,{accessibilityLabel:v._('Search', 'SearchBar.searchIcon.accessibilityLabel', 'Accessibility label for search bar "search" icon'),icon:"search",size:16}),(0,c.jsx)(n.xu,{marginStart:2,width:"100%",children:(0,c.jsx)(n.xv,{color:"subtle",children:w})})]});return(0,c.jsx)(n.iP,{onTap:()=>y(),rounding:2,children:(0,c.jsx)(n.xu,{alignItems:"center",borderStyle:"lg",color:"default",dangerouslySetInlineStyle:{__style:{padding:"13px 16px"}},"data-test-id":"searchBarPlaceholder",display:"flex",flex:"grow",height:g,rounding:8,children:P})})}},950280:(e,t,r)=>{r.d(t,{Z:()=>n});var i=r(545230);function n({query:e,searchPath:t,scope:r,shouldInputFocusOnTouch:n}){let o=e?`${t}?rs=${i.i.TYPED}&q=${encodeURIComponent(e)}&scope=${r||""}`:t;return n&&(o=`${o}${"/"===o.charAt(o.length-1)?"?":"&"}input_select=true`),o}},803792:(e,t,r)=>{r.d(t,{U:()=>o,Z:()=>a});var i=r(667294);let n=(0,i.createContext)();function o(){return(0,i.useContext)(n)}let a=n}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/76766-1b88c4dc796bf78c.mjs.map