"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[37955],{208121:(e,t,l)=>{l.d(t,{CB:()=>h,y9:()=>_});var o=l(667294),i=l(498490),s=l(883119),r=l(400416),n=l(758339),a=l(144326),c=l(785893);let d=({onConfirm:e})=>{let t=(0,a.ZP)(),[l,i]=(0,o.useState)(!1),d=()=>{i(!0),(0,r.Z)({url:"/v3/users/email/verify/resend/",method:"POST"})};return(0,c.jsx)(n.ZP,{accessibilityModalLabel:t._('Verify your email', 'Accessible label for email verification being required', 'Accessible label for email verification being required'),footer:(0,c.jsxs)(s.kC,{gap:{row:2,column:0},justifyContent:"end",children:[l?(0,c.jsx)(s.zx,{color:"gray",disabled:l,fullWidth:!0,onClick:d,size:"lg",text:t._('Email sent', 'Button text for verification email being sent', 'Button text for verification email being sent')}):(0,c.jsx)(s.zx,{color:"gray",disabled:l,fullWidth:!0,onClick:d,size:"lg",text:t._('Resend email', 'Button text for resending email verification email', 'Button text for resending email verification email')}),(0,c.jsx)(s.zx,{color:"red",fullWidth:!0,onClick:e,size:"lg",text:t._('Got it', 'Button text for acknowledging email verificaiton is required', 'Button text for acknowledging email verificaiton is required')})]}),heading:t._('Verify your email', 'Accessible label for email verification being required', 'Accessible label for email verification being required'),onDismiss:e,role:"alertdialog",children:(0,c.jsx)(s.xu,{padding:8,children:(0,c.jsx)(s.xv,{align:"center",size:"300",children:t._('Keep your account secure by verifying your email address. Check the inbox associated with this account for an email from us to continue using Pinterest.', 'Inform users that they need to verify their email to keep their account secure and continue using Pinterest', 'Inform users that they need to verify their email to keep their account secure and continue using Pinterest')})})})},{Provider:u,useHook:_}=(0,i.Z)("EmailVerificationReminderModal");function h({children:e}){let[t,l]=(0,o.useState)(!1),i=(0,o.useMemo)(()=>({showEmailVerificationReminderModal:()=>{l(!0)}}),[]);return(0,c.jsxs)(o.Fragment,{children:[(0,c.jsx)(u,{value:i,children:e}),t&&(0,c.jsx)(d,{onConfirm:()=>{l(!1)}})]})}},289762:(e,t,l)=>{l.d(t,{Z:()=>r});var o=l(167912),i=l(244311),s=l(286102);let r=function({strategy:e,query:t,variables:l,options:r,useGetLegacyResource:n,useGetLegacyPaginatedResource:a,useGetLegacyData:c}){if("GRAPHQL"===e){let e=(0,i.getRequest)(t);return(0,o.useLazyLoadQuery)(e,l,r)}if(null!=n&&null!=a&&null!=c)throw Error("Only pass one of those calls from the list: \n[useGetLegacyResource, useGetLegacyPaginatedResource, useGetLegacyData]\nto useLazyLoadQueryOrLegacy");if(null!=c){let e=c(l);if(!e)return null;let{selections:o}=(0,i.getRequest)(t).fragment;return(0,s.Z)(o,{kind:"LegacyData",singularLegacyData:e,refetchInfo:null,paginationInfo:null})}if(null!=n){let{data:e,refresh:o}=n(l);if(null==e)return null;let{selections:r}=(0,i.getRequest)(t).fragment;return(0,s.Z)(r,{kind:"LegacyData",singularLegacyData:e,refetchInfo:{refetch:o},paginationInfo:null})}if(null!=a){let{data:e,refresh:o,isFetching:r,isAtEnd:n,fetchMore:c}=a(l);if(null==e)return null;let{selections:d}=(0,i.getRequest)(t).fragment;return(0,s.Z)(d,{kind:"PaginationLegacyData",paginationLegacyData:e,refetchInfo:{refetch:o},paginationInfo:{isLoadingNext:r,hasNext:!n,loadNext:c}},null)}throw Error("useGetLegacyData or useGetLegacyResource must be provided")}},948938:(e,t,l)=>{l.d(t,{Z:()=>m});var o=l(667294),i=l(883119),s=l(559028),r=l(357013),n=l(144326),a=l(240760),c=l(297728),d=l(415384),u=l(715824),_=l(228867),h=l(453854),f=l(115642),p=l(811093),x=l(701918),g=l(785893);let m=function(e){let t=(0,n.ZP)(),{isCloseupRelatedPinsAboveTheFoldEnabled:l}=(0,f.x4)(),{followerCount:m,fullName:w,isVerifiedIdentity:b,imageUrl:y,isPromoted:P,isVerifiedMerchant:v,profileUrl:j,sponsorName:z,sponsorshipStatus:A,sponsorUsername:C="",verified:k,color:T="default",onAvatarClick:L,onNavigateClick:E,onNavigateSponsorClick:Z,openNewTab:B,isLeadPin:I=!1}=e,F=(0,c.F)().checkExperiment("mweb_web_android_ios_backend_clbc_display_controls").anyEnabled,S=(0,d.Z)(t._('{{ fullName }} avatar link', 'creatorCardProfile.avatar.accessibilityLabel', 'Accessibility label for user avatar'),{fullName:w??""}),D=(0,g.jsx)(h.q,{children:({active:e,focused:t,hovered:o,onBlur:r,onFocus:n,onMouseEnter:a,onMouseLeave:c})=>(0,g.jsx)(i.xu,{onBlur:r,onFocus:n,onMouseDown:()=>{L&&L()},onMouseEnter:a,onMouseLeave:c,children:(0,g.jsx)(i.zd,{rounding:"circle",wash:o||e||t,children:(0,g.jsx)(s.qE,{accessibilityLabel:S,name:w??"",size:l?"xs":"md",src:y??"",verified:k})})})}),M=(0,u.ZP)(w,70),U=(0,g.jsxs)(o.Fragment,{children:[P&&(0,g.jsx)(i.xv,{lineClamp:1,size:"200",weight:"bold",children:t._('Promoted by', 'indicating the username of the person who promoted the pin', 'indicating the username of the person who promoted the pin')}),(0,g.jsx)(i.xu,{"data-test-id":"creator-profile-name",children:(0,g.jsx)(i.xu,{maxWidth:270,children:(0,g.jsx)(i.xv,{color:T,size:"200",weight:I||l?"normal":"bold",children:b||v?(0,g.jsx)(i.xu,{"data-test-id":"verified-name",children:(0,g.jsx)(x.Z,{badgeSize:"xs",badgeSpacing:2,fullName:M,isVerifiedIdentity:b,isVerifiedMerchant:v})}):w})})})]}),R=C&&z||p.j.includes(A)&&F,q=`/${C??""}/`;return(0,g.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},"data-test-id":"creator-card-profile",display:"flex",marginEnd:-1,marginStart:-1,children:[(0,g.jsx)(i.xu,{"data-test-id":"creator-avatar",flex:"none",paddingX:1,children:j?(0,g.jsx)(i.Tg,{dataTestId:"creator-avatar-link",href:j,onTap:E,rel:(0,_.Z)(j)?"none":"nofollow",target:B?"blank":null,children:D}):D}),(0,g.jsxs)(i.xu,{children:[j?(0,g.jsx)(i.xu,{alignItems:"center",direction:"row",display:"flex",flex:"grow",paddingX:1,children:(0,g.jsx)(i.rU,{dataTestId:"creator-profile-link",href:j,onClick:E,rel:(0,_.Z)(j)?"none":"nofollow",target:B?"blank":null,underline:"none",children:U})}):U,R?(0,g.jsx)(i.xu,{"data-test-id":"sponsor-title",display:"flex",paddingX:1,children:(0,g.jsx)(p.Z,{href:q,isPromoted:P,onNavigateSponsorClick:Z,sponsorName:z,sponsorshipStatus:A,sponsorUsername:C})}):!!m&&!l&&(0,g.jsx)(i.xu,{"data-test-id":"follower-count",display:"flex",paddingX:1,children:(0,g.jsx)(i.xv,{color:T,size:"200",children:(0,a.nk)(t.ngettext('{{ followerCount }} follower', '{{ followerCount }} followers', m, 'closeup.creator.followerCount', 'the number of followers the creator of the pin has'),{followerCount:(0,g.jsx)(r.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:m},m)})})})]})]})}},838486:(e,t,l)=>{l.d(t,{Z:()=>C});var o=l(667294),i=l(545007),s=l(883119),r=l(609326),n=l(573706),a=l(703454),c=l(803611),d=l(208121),u=l(194093),_=l(144326),h=l(240760),f=l(267005),p=l(864723),x=l(901450),g=l(969119),m=l(357013),w=l(785893);let b=({followText:e,followerCount:t,userFollowed:l})=>{let o=(0,_.ZP)();return(0,h.nk)(o._('{{ followCount }} {{ followText }}', ' - ', ' -- '),{followCount:(0,w.jsx)(s.xu,{"data-test-id":"followCount",opacity:l?void 0:.8,paddingX:1,children:(0,w.jsx)(s.xv,{color:l?"subtle":"inverse",children:(0,w.jsx)(m.Z,{shortform:!0,shortformMaximumFractionDigits:0,value:t})})},"followCount"),followText:(0,w.jsx)(s.xu,{"data-test-id":"followText",paddingX:1,children:(0,w.jsx)(s.xv,{color:l?"default":"inverse",weight:"bold",children:e})},"followText")})};var y=l(212443),P=l(402151),v=l(424583),j=l(310368);function z(e,t,l){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var o=l.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}class A extends o.PureComponent{constructor(...e){super(...e),z(this,"handleButtonClick",({event:e})=>{let{requireAuth:t,i18n:l,userFollowed:o}=this.props;if(t){e.stopPropagation(),t({loginModalHeader:(0,a.N4)({i18n:l,toFollow:!o})});return}let{shouldStopEventPropagation:i,loggingData:s}=this.props;i&&(e.preventDefault(),e.stopPropagation()),this.props.logContextEvent({event_type:101,component:13672,element:11951,object_id_str:this.props.id,view_type:this.props.viewType,view_parameter:this.props.viewParameter,clientTrackingParams:this.props.clientTrackingParams,...s||Object.freeze({})}),this.toggleFollowUnfollow()}),z(this,"handleClick",({event:e})=>{let{requireAuth:t}=this.props;if((t||this.props.shouldStopEventPropagation)&&e.stopPropagation(),t){t();return}this.toggleFollowUnfollow()}),z(this,"toggleFollowUnfollow",()=>{let{id:e,mostRecentPinId:t,loggingData:l,userFollowed:o,viewType:i,viewParameter:s,clientTrackingParams:r}=this.props;o?(this.props.logContextEvent({event_type:46,object_id_str:e,view_type:i,view_parameter:s,aux_data:{pin_id:t},clientTrackingParams:r,...l||Object.freeze({})}),this.unfollow()):(this.props.logContextEvent({event_type:45,object_id_str:e,view_type:i,view_parameter:s,aux_data:{pin_id:t},clientTrackingParams:r,...l||Object.freeze({})}),this.follow())}),z(this,"follow",()=>{let{follow:e,id:t,onUserFollow:l,mostRecentPinId:o,setMostRecentPinId:i,inviteCode:s,handleFollowSuccessFromInvite:r,loggingData:n,viewType:a,viewParameter:c}=this.props;e(t,o,()=>{s?(r?.(),this.props.logContextEvent({event_type:14858,object_id_str:t,view_type:a,view_parameter:c,...n||Object.freeze({})})):this.showConfirmation()},this.showError),l&&l(!0),i(null)}),z(this,"showToast",e=>{let{id:t,imageUrl:l,profileUrl:o,toastManagerContext:i,suppressToasts:s}=this.props;s||i.showOneToast(({hideToast:i})=>(0,w.jsx)(j.Z,{handleHide:i,href:o,imageUrl:l,text:e,userId:t}))}),z(this,"showConfirmation",()=>{let e=(0,w.jsx)(s.xv,{children:this.props.i18n._('Following! Their created Pins will show up in your home feed!', 'userFollowButton.informationalToastText2', 'Text explaining that a creator\'s Pins will show up in home feed after follow')});this.showToast(e)}),z(this,"showError",e=>{let{fullName:t,userFollowed:l,showEmailVerificationReminderModal:o,loggingData:i,inviteCode:r,id:n,viewParameter:a,viewType:c}=this.props,d=l?this.props.i18n._('Error unfollowing {{ usernameComponent }}.', 'UserFollowButton.error.unfollowing', 'When there is an API error when unfollowing a user'):this.props.i18n._('Error following {{ usernameComponent }}.', 'UserFollowButton.error.following', 'When there is an API error when following a user');if((0,u.Z)(e,"api_error_code")===f.H9){o();return}let _=(0,w.jsx)(s.xv,{children:(0,h.nk)(d,{usernameComponent:(0,w.jsx)(s.xv,{inline:!0,weight:"bold",children:t})})});this.showToast(_),!l&&r&&this.props.logContextEvent({event_type:14859,object_id_str:n,view_type:c,view_parameter:a,...i||Object.freeze({})})}),z(this,"unfollow",()=>{let{id:e,onUserFollow:t,unfollow:l,mostRecentPinId:o,setMostRecentPinId:i}=this.props;l(e,o,()=>{},this.showError),t&&t(!1),i(null)})}renderButton(){let{button:e,followerCount:t,inline:l=!1,isOwnProfile:o,invertButtonColor:i,isSecondaryButton:r,size:n,showFollowerCount:a,userFollowed:c}=this.props,d=c?this.props.i18n._('Following', 'User follow button', 'User follow button'):this.props.i18n._('Follow', 'User follow button', 'User follow button');if(e)return e({followText:d,onClick:this.handleButtonClick,userFollowed:c});if(o)return(0,w.jsx)(s.zx,{disabled:!0,fullWidth:!0,text:this.props.i18n._('This is you', 'Button label to note that this is your Profile', 'Button label to note that this is your Profile')});if(!a)return(0,w.jsx)(s.xu,{"data-test-id":`user-${c?"unfollow":"follow"}-button`,display:"inlineBlock",children:(0,w.jsx)(s.zx,{accessibilityLabel:c?this.props.i18n._('Unfollow', 'userUnfollowButton.button.accessibilityLabel', 'Accessibility label for the unfollow button'):this.props.i18n._('Follow', 'userFollowButton.button.accessibilityLabel', 'Accessibility label for the follow button'),color:r||c?"gray":"red",fullWidth:l,onClick:this.handleButtonClick,selected:i?!c:!!c,size:n??void 0,text:d})});{let e="number"==typeof t?(0,w.jsx)(b,{followerCount:t,followText:d,userFollowed:c}):d;return(0,w.jsx)(s.iP,{onTap:this.handleClick,children:(0,w.jsx)(s.xu,{color:c?"secondary":"primary",paddingX:3,paddingY:3,rounding:2,children:(0,w.jsx)(s.kC,{alignItems:"center",justifyContent:"start",children:e})})})}}render(){let{showPulsar:e,userFollowed:t}=this.props;return(0,w.jsxs)(s.xu,{display:"flex",position:"relative",children:[this.renderButton(),e&&(0,w.jsx)(s.iP,{onTap:this.handleClick,children:(0,w.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:-86,marginTop:-28}},display:"inlineBlock",position:"absolute",children:(0,w.jsx)(s.o3,{paused:t||!1})})})]})}}function C(e){let{logContextEvent:t}=(0,n.v)(),l=(0,_.ZP)(),{id:o,setMostRecentPinId:s}=(0,y.f)(),a=(0,c.Z)(),u=(0,i.I0)(),{showEmailVerificationReminderModal:h}=(0,d.y9)(),f=(0,v.mN)()(e.id),m=f?.follower_count,b=f?f.explicitly_followed_by_me:e.userFollowed;return(0,g.Z)(()=>{let{id:t}=e,l=(0,p.M0)().getItem(r.AG)||"";l&&l===t&&((0,p.M0)().removeItem(r.AG),u((0,P.ZN)(l,e.clientTrackingParams)))}),(0,w.jsx)(A,{...e,follow:(t,l,o,i)=>{u((0,P.yA)(t,l,e.clientTrackingParams,e.inviteCode)).then(o).catch(e=>{i(e)})},followerCount:m,i18n:l,logContextEvent:t,mostRecentPinId:o,requireAuth:a,setMostRecentPinId:s,showEmailVerificationReminderModal:h,toastManagerContext:(0,x.F9)(),unfollow:(t,l,o,i)=>{u((0,P.KF)(t,l,e.clientTrackingParams)).then(o,i)},userFollowed:b})}},212443:(e,t,l)=>{l.d(t,{C:()=>a,f:()=>n});var o=l(667294),i=l(498490),s=l(785893);let{Provider:r,useHook:n}=(0,i.Z)("MostRecentPin");function a({children:e}){let[t,l]=(0,o.useState)(),[i,n]=(0,o.useState)(),a=(0,o.useCallback)(e=>{n([e].concat((i?i.slice(0,10):[]).filter(t=>t!==e)))},[i]),c=(0,o.useMemo)(()=>({id:t,plpImageSignatures:i,setMostRecentPinId:l,setMostRecentPinImage:a}),[t,i,a]);return(0,s.jsx)(r,{value:c,children:e})}},811093:(e,t,l)=>{l.d(t,{Z:()=>d,j:()=>c});var o=l(883119),i=l(144326),s=l(240760),r=l(297728),n=l(730212),a=l(785893);let c=[0,2,3];function d({hasAffiliateProducts:e,hasAffiliateLink:t,href:l,isPromoted:d,onNavigateSponsorClick:u,sponsorName:_,sponsorUsername:h,sponsorshipStatus:f,textWeight:p="bold",isGrid:x}){let g,m,w,b,y;let P=(0,i.ZP)(),{isAuthenticated:v}=(0,n.B)(),{checkExperiment:j}=(0,r.F)(),z=j("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled,A=v&&(t||e)&&("enabled"===(m=j("closeup_affiliate_ui_label_web").group)||"employees"===m)||"enabled"===(w=j("mweb_closeup_affiliate_ui_label").group)||"employees"===w,C=!v&&(t||e)&&("enabled"===(b=j("closeup_unauth_affiliate_ui_label_web").group)||"employees"===b||"enabled"===(y=j("mweb_closeup_unauth_affiliate_ui_label").group)||"employees"===y),k=l||(h?`/${h}/`:null),T=k&&_?(0,a.jsx)(o.rU,{dataTestId:"sponsorship-text-link",href:k,onClick:u,children:(0,a.jsx)(o.xv,{size:"200",weight:p,children:_})},_):void 0;return d?g=(0,s.nk)(P._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:T}):f||0===f?_&&!c.includes(f)?g=(0,s.nk)(P._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:T}):2!==f&&(g=P._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):A||C?g=P._('Paid link', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products'):x&&e&&(g=P._('Paid link', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products')),(0,a.jsxs)(o.xv,{color:"subtle",inline:!0,lineClamp:2,size:"200",children:[z&&!d&&"Ad â€¢ "||"",g]})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/37955-9786c083e93cdc46.mjs.map